<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Victor Lao">
<meta name="dcterms.date" content="2022-08-30">

<title>Victor Lao’s Portfolio - Network Mapping the Most Influential Addresses using DAI (2021): Extracting Blockchain Data from Public Google Datasets with BigQuery and SQL</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Victor Lao’s Portfolio</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-projects" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Projects</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-projects">    
        <li>
    <a class="dropdown-item" href="https://app.powerbi.com/view?r=eyJrIjoiYTZiZjJkMGEtNDZlNy00YWRkLTgyYTAtYzI2OTMwMjllZDQxIiwidCI6IjY0MmE2ZGUyLTJiODktNDJkOC05MDZhLTIxM2E4NWEzZTMxOCJ9">
 <span class="dropdown-text">Canadian Provincial Rent Power BI Dashboard</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://szys2b-victor-lao.shinyapps.io/video_game_analysis_2024">
 <span class="dropdown-text">Metacritic Featured Games Shiny App</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/Spingelhoff/fileR">
 <span class="dropdown-text">fileR Package</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../listings.html">
 <span class="menu-text">Reports</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../Resume.pdf">
 <span class="menu-text">Resume</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#methodology" id="toc-methodology" class="nav-link" data-scroll-target="#methodology">Methodology</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Network Mapping the Most Influential Addresses using DAI (2021): Extracting Blockchain Data from Public Google Datasets with BigQuery and SQL</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Victor Lao </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 30, 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Blockchain technologies are inarguably reshaping how the general public thinks of finance. One particularly interesting innovation is the concept of decentralized autonomous organizations (or DAOs). Leveraging the transparency of the blockchain, DAOs endeavour to collaboratively run organizations in a trustless way. This novel method of conducting corporate operations makes a compelling subject for analysis.</p>
<p>One prominent DAO is MakerDAO. They are most well known for their over-collateralized USD stable coin, DAI. As all core MakerDAO operations and products operate through the blockchain, I retrieved all emitted event logs pertaining to MakerDAO smart contracts (executes blockchain functions) using BigQuery and the MakerDAO technical docs.</p>
</section>
<section id="methodology" class="level2">
<h2 class="anchored" data-anchor-id="methodology">Methodology</h2>
<p>Table of MakerDAO events was created using the publicly available Ethereum blockchain dataset on BigQuery. As addresses are stored on the blockchain as a 42 character hexadecimal, all smart contract addresses were converted to their contract name using MakerDAO technical docs. Topic 0 of event logs typically contains a unqiue event type specific index and was used to annotate function events. Each unique event type was individually parsed for sender identity, reciever identity and value. Makerdao stores values as integers which stand for differing decimals of percision depending on the event type. An unfortunate side effect of this storage method is that the values are too large for BigQuery to handle (can only go up to INT64). This necessitated using R to view the correct values. Values were stored on BigQuery as hexadecimals.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>     makerdao_operations.may2021to2022</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="kw">PARTITION</span> <span class="kw">BY</span> <span class="dt">DATE</span> (</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>     block_timestamp</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="kw">CLUSTER</span> <span class="kw">BY</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>     makerdao_smartcontract,</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>     makerdao_function</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="kw">AS</span> (</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>     logs.block_timestamp <span class="kw">AS</span> block_timestamp,</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>     transaction_hash,</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>     from_address,</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>     to_address,</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>     <span class="fu">value</span> <span class="kw">AS</span> eth_value,</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>     gas_price,</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>     <span class="cf">CASE</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> address <span class="op">=</span> <span class="st">'0x6b175474e89094c44da98b954eedeac495271d0f'</span> <span class="cf">THEN</span> <span class="st">'DAI'</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> address <span class="op">=</span> <span class="st">'0x9759A6Ac90977b93B58547b4A71c78317f391A28'</span> <span class="cf">THEN</span> <span class="st">'DAIJOIN'</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> address <span class="op">=</span> <span class="st">'0x2F0b23f53734252Bda2277357e97e1517d6B042A'</span> <span class="cf">THEN</span> <span class="st">'GEMJOIN'</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> address <span class="op">=</span> <span class="st">'0x197E90f9FAD81970bA7976f33CbD77088E5D7cf7'</span> <span class="cf">THEN</span> <span class="st">'POT'</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> address <span class="op">=</span> <span class="st">'0x19c0976f590D67707E62397C87829d896Dc0f1F1'</span> <span class="cf">THEN</span> <span class="st">'JUG'</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> address <span class="op">=</span> <span class="st">'0xA950524441892A31ebddF91d3cEEFa04Bf454466'</span> <span class="cf">THEN</span> <span class="st">'VOW'</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> address <span class="op">=</span> <span class="st">'0xC4269cC7acDEdC3794b221aA4D9205F564e27f0d'</span> <span class="cf">THEN</span> <span class="st">'FLAPPER'</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> address <span class="op">=</span> <span class="st">'0xA41B6EF151E06da0e34B009B86E828308986736D'</span> <span class="cf">THEN</span> <span class="st">'FLOPPER'</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> address <span class="op">=</span> <span class="st">'0x35D1b3F3D7966A1DFe207aa4514C12a259A0492B'</span> <span class="cf">THEN</span> <span class="st">'VAT'</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> address <span class="op">=</span> <span class="st">'0x65C79fcB50Ca1594B025960e539eD7A9a6D434A3'</span> <span class="cf">THEN</span> <span class="st">'SPOT'</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> address <span class="op">=</span> <span class="st">'0x135954d155898D42C90D2a57824C690e0c7BEf1B'</span> <span class="cf">THEN</span> <span class="st">'DOG'</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> address <span class="op">=</span> <span class="st">'0xc67963a226eddd77B91aD8c421630A1b0AdFF270'</span> <span class="cf">THEN</span> <span class="st">'CLIPPER'</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> address <span class="op">=</span> <span class="st">'0x1EB4CF3A948E7D72A198fe073cCb8C7a948cD853'</span> <span class="cf">THEN</span> <span class="st">'FLASH'</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> address <span class="op">=</span> <span class="st">'0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2'</span> <span class="cf">THEN</span> <span class="st">'MKR'</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> address <span class="op">=</span> <span class="st">'0x0a3f6849f78076aefaDf113F5BED87720274dDC0'</span> <span class="cf">THEN</span> <span class="st">'DSCHIEF'</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> address <span class="op">=</span> <span class="st">'0xA618E54de493ec29432EbD2CA7f14eFbF6Ac17F7'</span> <span class="cf">THEN</span> <span class="st">'DSTOKEN'</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> address <span class="op">=</span> <span class="st">'0x82ecD135Dce65Fbc6DbdD0e4237E0AF93FFD5038'</span> <span class="cf">THEN</span> <span class="st">'PROXY'</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> address <span class="op">=</span> <span class="st">'0x5ef30b9986345249bc32d8928B7ee64DE9435E39'</span> <span class="cf">THEN</span> <span class="st">'CDPMANAGER'</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>               <span class="cf">END</span> <span class="kw">AS</span> makerdao_smartcontract,</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>     <span class="cf">CASE</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef'</span> <span class="kw">AND</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>               topics[OFFSET(<span class="dv">1</span>)] <span class="kw">NOT</span> <span class="kw">IN</span> (</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">'0x0000000000000000000000000000000000000000'</span>,</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">'0x2F0b23f53734252Bda2277357e97e1517d6B042A'</span>,</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">'0x0a3f6849f78076aefadf113f5bed87720274ddc0'</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>                                        )                                                               <span class="kw">AND</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>               topics[OFFSET(<span class="dv">2</span>)] <span class="kw">NOT</span> <span class="kw">IN</span> (<span class="st">'0x0000000000000000000000000000000000000000'</span>,</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">'0x2F0b23f53734252Bda2277357e97e1517d6B042A'</span>,</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">'0x0a3f6849f78076aefadf113f5bed87720274ddc0'</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>                                        )                                                               <span class="cf">THEN</span> <span class="st">'transfer'</span> <span class="co">--DAI/MKR/IOU</span></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925'</span> <span class="cf">THEN</span> <span class="st">'approve'</span> <span class="co">--DAI/MKR/IOU</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef'</span> <span class="kw">AND</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>               topics[OFFSET(<span class="dv">1</span>)] <span class="op">=</span> <span class="st">'0x0000000000000000000000000000000000000000'</span>                         <span class="cf">THEN</span> <span class="st">'mint/exit'</span> <span class="co">--DAIJOIN</span></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef'</span> <span class="kw">AND</span></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>               topics[OFFSET(<span class="dv">2</span>)] <span class="op">=</span> <span class="st">'0x0000000000000000000000000000000000000000'</span>                         <span class="cf">THEN</span> <span class="st">'burn/join'</span> <span class="co">--DAIJOIN</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef'</span> <span class="kw">AND</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>               topics[OFFSET(<span class="dv">1</span>)] <span class="op">=</span> <span class="st">'0x2F0b23f53734252Bda2277357e97e1517d6B042A'</span>                         <span class="cf">THEN</span> <span class="st">'mint/exit'</span> <span class="co">--GEMJOIN</span></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef'</span> <span class="kw">AND</span></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>               topics[OFFSET(<span class="dv">2</span>)] <span class="op">=</span> <span class="st">'0x2F0b23f53734252Bda2277357e97e1517d6B042A'</span>                         <span class="cf">THEN</span> <span class="st">'burn/join'</span> <span class="co">--GEMJOIN</span></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x9f678cca00000000000000000000000000000000000000000000000000000000'</span> <span class="cf">THEN</span> <span class="st">'drip'</span> <span class="co">--POT</span></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x7f8661a100000000000000000000000000000000000000000000000000000000'</span> <span class="cf">THEN</span> <span class="st">'exit'</span> <span class="co">--POT</span></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x049878f300000000000000000000000000000000000000000000000000000000'</span> <span class="cf">THEN</span> <span class="st">'join'</span> <span class="co">--POT</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x44e2a5a800000000000000000000000000000000000000000000000000000000'</span> <span class="cf">THEN</span> <span class="st">'drip'</span> <span class="co">--JUG</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xf37ac61c00000000000000000000000000000000000000000000000000000000'</span> <span class="cf">THEN</span> <span class="st">'heal'</span> <span class="co">--VOW/VAT</span></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xd7ee674b00000000000000000000000000000000000000000000000000000000'</span> <span class="cf">THEN</span> <span class="st">'flog'</span> <span class="co">--VOW</span></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xc959c42b00000000000000000000000000000000000000000000000000000000'</span> <span class="cf">THEN</span> <span class="st">'deal'</span> <span class="co">--FLAPPER</span></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xa3b22fc400000000000000000000000000000000000000000000000000000000'</span> <span class="cf">THEN</span> <span class="st">'hope'</span> <span class="co">--VAT</span></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xdc4d20fa00000000000000000000000000000000000000000000000000000000'</span> <span class="cf">THEN</span> <span class="st">'nope'</span> <span class="co">--VAT</span></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xbb35783b00000000000000000000000000000000000000000000000000000000'</span> <span class="cf">THEN</span> <span class="st">'move'</span> <span class="co">--VAT</span></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x7cdd3fde00000000000000000000000000000000000000000000000000000000'</span> <span class="cf">THEN</span> <span class="st">'slip'</span> <span class="co">--VAT</span></span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x7bab3f4000000000000000000000000000000000000000000000000000000000'</span> <span class="cf">THEN</span> <span class="st">'grab'</span> <span class="co">--VAT</span></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xdfd7467e425a8107cfd368d159957692c25085aacbcf5228ce08f10f2146486e'</span> <span class="cf">THEN</span> <span class="st">'poke'</span> <span class="co">--SPOT</span></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x85258d09e1e4ef299ff3fc11e74af99563f022d21f3f940db982229dc2a3358c'</span> <span class="cf">THEN</span> <span class="st">'bark'</span> <span class="co">--DOG</span></span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x54f095dc7308776bf01e8580e4dd40fd959ea4bf50b069975768320ef8d77d8a'</span> <span class="cf">THEN</span> <span class="st">'digs'</span> <span class="co">--DOG</span></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x7c5bfdc0a5e8192f6cd4972f382cec69116862fb62e6abff8003874c58e064b8'</span> <span class="cf">THEN</span> <span class="st">'kick'</span> <span class="co">--CLIPPER</span></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x05e309fd6ce72f2ab888a20056bb4210df08daed86f21f95053deb19964d86b1'</span> <span class="cf">THEN</span> <span class="st">'take'</span> <span class="co">--CLIPPER</span></span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x0d7d75e01ab95780d3cd1c8ec0dd6c2ce19e3a20427eec8bf53283b6fb8e95f0'</span> <span class="cf">THEN</span> <span class="st">'flashloan'</span> <span class="co">--FLASH</span></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xcc16f5dbb4873280815c1ee09dbd06736cffcc184412cf7a71a0fdb75d397ca5'</span> <span class="cf">THEN</span> <span class="st">'burn'</span> <span class="co">--MKR/DSTOKEN</span></span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x0f6798a560793a54c3bcfe86a93cde1e73087d944c0ea20544137d4121396885'</span> <span class="cf">THEN</span> <span class="st">'mint'</span> <span class="co">--MKR/DSTOKEN</span></span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef'</span> <span class="kw">AND</span></span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a>               topics[OFFSET(<span class="dv">1</span>)] <span class="op">=</span> <span class="st">'0x0a3f6849f78076aefadf113f5bed87720274ddc0'</span>                         <span class="cf">THEN</span> <span class="st">'free'</span> <span class="co">--DSCHIEF</span></span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef'</span> <span class="kw">AND</span></span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a>               topics[OFFSET(<span class="dv">2</span>)] <span class="op">=</span> <span class="st">'0x0a3f6849f78076aefadf113f5bed87720274ddc0'</span>                         <span class="cf">THEN</span> <span class="st">'lock'</span> <span class="co">--DSCHIEF</span></span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x4f0892983790f53eea39a7a496f6cb40e8811b313871337b6a761efc6c67bb1f'</span> <span class="cf">THEN</span> <span class="st">'etch'</span> <span class="co">--DSCHIEF(slate) </span></span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="kw">IN</span> (</span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">'0xa69beaba00000000000000000000000000000000000000000000000000000000'</span>,</span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">'0xed08132900000000000000000000000000000000000000000000000000000000'</span></span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a>                                   )                                                                    <span class="cf">THEN</span> <span class="st">'vote'</span> <span class="co">--DSCHIEF</span></span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xd6be0bc178658a382ff4f91c8c68b542aa6b71685b8fe427966b87745c3ea7a2'</span> <span class="cf">THEN</span> <span class="st">'open'</span> <span class="co">--CDPMANAGER</span></span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xfcafcc6800000000000000000000000000000000000000000000000000000000'</span> <span class="cf">THEN</span> <span class="st">'give'</span> <span class="co">--CDPMANAGER</span></span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x45e6bdcd00000000000000000000000000000000000000000000000000000000'</span> <span class="cf">THEN</span> <span class="st">'frob'</span> <span class="co">--CDPMANAGER</span></span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x9bb8f83800000000000000000000000000000000000000000000000000000000'</span> <span class="cf">THEN</span> <span class="st">'flux'</span> <span class="co">--CDPMANAGER</span></span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xf9f30db600000000000000000000000000000000000000000000000000000000'</span> <span class="cf">THEN</span> <span class="st">'move'</span> <span class="co">--CDPMANAGER</span></span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x1b0dbf7200000000000000000000000000000000000000000000000000000000'</span> <span class="cf">THEN</span> <span class="st">'quit'</span> <span class="co">--CDPMANAGER</span></span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a>               <span class="cf">END</span> <span class="kw">AS</span> makerdao_function,</span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a>     <span class="cf">CASE</span> <span class="co">--note following are in hex string format (as the numbers are too big for... bigquery)</span></span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef'</span> <span class="co">--transfer/burn/mint value</span></span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="kw">data</span> <span class="co">--wad (10e18)</span></span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x7f8661a100000000000000000000000000000000000000000000000000000000'</span> <span class="co">--pot/DSR exit value</span></span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> topics[OFFSET(<span class="dv">2</span>)] <span class="co">--wad</span></span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x049878f300000000000000000000000000000000000000000000000000000000'</span> <span class="co">--pot/DSR join value</span></span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> topics[OFFSET(<span class="dv">3</span>)] <span class="co">--wad</span></span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xbb35783b00000000000000000000000000000000000000000000000000000000'</span> <span class="co">--vat move value</span></span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> topics[OFFSET(<span class="dv">2</span>)] <span class="co">--rad (10e45)</span></span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xf37ac61c00000000000000000000000000000000000000000000000000000000'</span> <span class="co">--vow/vat heal amount</span></span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> topics[OFFSET(<span class="dv">1</span>)] <span class="co">--rad</span></span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x7cdd3fde00000000000000000000000000000000000000000000000000000000'</span> <span class="co">--vat slip amount</span></span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> topics[OFFSET(<span class="dv">3</span>)] <span class="co">--wad</span></span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x7bab3f4000000000000000000000000000000000000000000000000000000000'</span> <span class="co">--vat grab debt (dart) amount</span></span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(<span class="kw">data</span>, <span class="dv">459</span>, <span class="dv">64</span>)) <span class="co">--wad</span></span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x85258d09e1e4ef299ff3fc11e74af99563f022d21f3f940db982229dc2a3358c'</span> <span class="co">--dog bark liquidation (art)</span></span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(<span class="kw">data</span>, <span class="dv">67</span>, <span class="dv">64</span>)) <span class="co">--wad</span></span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x7c5bfdc0a5e8192f6cd4972f382cec69116862fb62e6abff8003874c58e064b8'</span> <span class="co">--clipper kick DAI debt (tab) </span></span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(<span class="kw">data</span>, <span class="dv">67</span>, <span class="dv">64</span>)) <span class="co">--rad</span></span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x05e309fd6ce72f2ab888a20056bb4210df08daed86f21f95053deb19964d86b1'</span> <span class="co">--clipper take bid (price) </span></span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(<span class="kw">data</span>, <span class="dv">67</span>, <span class="dv">64</span>)) <span class="co">--ray (10e27)</span></span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x0d7d75e01ab95780d3cd1c8ec0dd6c2ce19e3a20427eec8bf53283b6fb8e95f0'</span> <span class="co">--flashloan loan value (amount)</span></span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(<span class="kw">data</span>, <span class="dv">67</span>, <span class="dv">64</span>)) <span class="co">--ray</span></span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xcc16f5dbb4873280815c1ee09dbd06736cffcc184412cf7a71a0fdb75d397ca5'</span> <span class="co">--MKR/DSTOKEN burn value</span></span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="kw">data</span> <span class="co">--wad</span></span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x0f6798a560793a54c3bcfe86a93cde1e73087d944c0ea20544137d4121396885'</span> <span class="co">--MKR/DSTOKEN mint value</span></span>
<span id="cb1-120"><a href="#cb1-120" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="kw">data</span> <span class="co">--wad</span></span>
<span id="cb1-121"><a href="#cb1-121" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x45e6bdcd00000000000000000000000000000000000000000000000000000000'</span> <span class="co">--CDPMANAGER frob debt change</span></span>
<span id="cb1-122"><a href="#cb1-122" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(<span class="kw">data</span>, <span class="dv">267</span>, <span class="dv">64</span>)) <span class="co">--wad (assuming dart value of similar percision across contracts)</span></span>
<span id="cb1-123"><a href="#cb1-123" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x9bb8f83800000000000000000000000000000000000000000000000000000000'</span> <span class="co">--CDPMANAGER flux collateral</span></span>
<span id="cb1-124"><a href="#cb1-124" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(<span class="kw">data</span>, <span class="dv">203</span>, <span class="dv">64</span>)) <span class="co">--wad</span></span>
<span id="cb1-125"><a href="#cb1-125" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xf9f30db600000000000000000000000000000000000000000000000000000000'</span> <span class="co">--CDPMANAGER move value</span></span>
<span id="cb1-126"><a href="#cb1-126" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(<span class="kw">data</span>, <span class="dv">267</span>, <span class="dv">64</span>)) <span class="co">--rad</span></span>
<span id="cb1-127"><a href="#cb1-127" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">END</span> <span class="kw">AS</span> <span class="fu">value</span>,</span>
<span id="cb1-128"><a href="#cb1-128" aria-hidden="true" tabindex="-1"></a>     <span class="cf">CASE</span></span>
<span id="cb1-129"><a href="#cb1-129" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef'</span> <span class="co">--transfer/burn/mint</span></span>
<span id="cb1-130"><a href="#cb1-130" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">1</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-131"><a href="#cb1-131" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925'</span> <span class="co">--approve</span></span>
<span id="cb1-132"><a href="#cb1-132" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">1</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-133"><a href="#cb1-133" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x9f678cca00000000000000000000000000000000000000000000000000000000'</span> <span class="co">--drip</span></span>
<span id="cb1-134"><a href="#cb1-134" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">1</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-135"><a href="#cb1-135" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x7f8661a100000000000000000000000000000000000000000000000000000000'</span> <span class="co">--exit</span></span>
<span id="cb1-136"><a href="#cb1-136" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">1</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-137"><a href="#cb1-137" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x049878f300000000000000000000000000000000000000000000000000000000'</span> <span class="co">--join</span></span>
<span id="cb1-138"><a href="#cb1-138" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">1</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-139"><a href="#cb1-139" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x44e2a5a800000000000000000000000000000000000000000000000000000000'</span> <span class="co">--drip</span></span>
<span id="cb1-140"><a href="#cb1-140" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">1</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-141"><a href="#cb1-141" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xf37ac61c00000000000000000000000000000000000000000000000000000000'</span> <span class="co">--heal</span></span>
<span id="cb1-142"><a href="#cb1-142" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">1</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-143"><a href="#cb1-143" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xd7ee674b00000000000000000000000000000000000000000000000000000000'</span> <span class="co">--flog</span></span>
<span id="cb1-144"><a href="#cb1-144" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">1</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-145"><a href="#cb1-145" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xc959c42b00000000000000000000000000000000000000000000000000000000'</span> <span class="co">--deal</span></span>
<span id="cb1-146"><a href="#cb1-146" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">1</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-147"><a href="#cb1-147" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xa3b22fc400000000000000000000000000000000000000000000000000000000'</span> <span class="co">--hope</span></span>
<span id="cb1-148"><a href="#cb1-148" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">1</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-149"><a href="#cb1-149" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xdc4d20fa00000000000000000000000000000000000000000000000000000000'</span> <span class="co">--nope</span></span>
<span id="cb1-150"><a href="#cb1-150" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">1</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-151"><a href="#cb1-151" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xbb35783b00000000000000000000000000000000000000000000000000000000'</span> <span class="co">--move(vat)</span></span>
<span id="cb1-152"><a href="#cb1-152" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">1</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-153"><a href="#cb1-153" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x7bab3f4000000000000000000000000000000000000000000000000000000000'</span> <span class="co">--grab (u; user liquidated)</span></span>
<span id="cb1-154"><a href="#cb1-154" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">2</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-155"><a href="#cb1-155" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x85258d09e1e4ef299ff3fc11e74af99563f022d21f3f940db982229dc2a3358c'</span> <span class="co">--bark (urn liquidated)</span></span>
<span id="cb1-156"><a href="#cb1-156" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">2</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-157"><a href="#cb1-157" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x7c5bfdc0a5e8192f6cd4972f382cec69116862fb62e6abff8003874c58e064b8'</span> <span class="co">--kick (auction id)</span></span>
<span id="cb1-158"><a href="#cb1-158" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> SAFE_CAST(SAFE_CAST(topics[OFFSET(<span class="dv">1</span>)] <span class="kw">AS</span> INT64) <span class="kw">AS</span> STRING)</span>
<span id="cb1-159"><a href="#cb1-159" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x05e309fd6ce72f2ab888a20056bb4210df08daed86f21f95053deb19964d86b1'</span> <span class="co">--take (who; auction bidder)</span></span>
<span id="cb1-160"><a href="#cb1-160" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">2</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-161"><a href="#cb1-161" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x0d7d75e01ab95780d3cd1c8ec0dd6c2ce19e3a20427eec8bf53283b6fb8e95f0'</span> <span class="co">--flashloan (reciever)</span></span>
<span id="cb1-162"><a href="#cb1-162" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">1</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-163"><a href="#cb1-163" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xcc16f5dbb4873280815c1ee09dbd06736cffcc184412cf7a71a0fdb75d397ca5'</span> <span class="co">--burn (DSTOKEN)</span></span>
<span id="cb1-164"><a href="#cb1-164" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">1</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-165"><a href="#cb1-165" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xa69beaba00000000000000000000000000000000000000000000000000000000'</span> <span class="co">--vote</span></span>
<span id="cb1-166"><a href="#cb1-166" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">1</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-167"><a href="#cb1-167" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xd6be0bc178658a382ff4f91c8c68b542aa6b71685b8fe427966b87745c3ea7a2'</span> <span class="co">--open</span></span>
<span id="cb1-168"><a href="#cb1-168" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">1</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-169"><a href="#cb1-169" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xfcafcc6800000000000000000000000000000000000000000000000000000000'</span> <span class="co">--give (cdp id)</span></span>
<span id="cb1-170"><a href="#cb1-170" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> topics[OFFSET(<span class="dv">2</span>)]</span>
<span id="cb1-171"><a href="#cb1-171" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x45e6bdcd00000000000000000000000000000000000000000000000000000000'</span> <span class="co">--frob</span></span>
<span id="cb1-172"><a href="#cb1-172" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">1</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-173"><a href="#cb1-173" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x9bb8f83800000000000000000000000000000000000000000000000000000000'</span> <span class="co">--flux (cpd id)</span></span>
<span id="cb1-174"><a href="#cb1-174" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> topics[OFFSET(<span class="dv">2</span>)]</span>
<span id="cb1-175"><a href="#cb1-175" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xf9f30db600000000000000000000000000000000000000000000000000000000'</span> <span class="co">--move (cdp id)</span></span>
<span id="cb1-176"><a href="#cb1-176" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> topics[OFFSET(<span class="dv">2</span>)]</span>
<span id="cb1-177"><a href="#cb1-177" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x1b0dbf7200000000000000000000000000000000000000000000000000000000'</span> <span class="co">--quit (cdp id)</span></span>
<span id="cb1-178"><a href="#cb1-178" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> topics[OFFSET(<span class="dv">2</span>)]</span>
<span id="cb1-179"><a href="#cb1-179" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">END</span> <span class="kw">AS</span> sender,</span>
<span id="cb1-180"><a href="#cb1-180" aria-hidden="true" tabindex="-1"></a>     <span class="cf">CASE</span></span>
<span id="cb1-181"><a href="#cb1-181" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef'</span> <span class="co">--transfer/burn/mint</span></span>
<span id="cb1-182"><a href="#cb1-182" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">2</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-183"><a href="#cb1-183" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925'</span> <span class="co">--approve</span></span>
<span id="cb1-184"><a href="#cb1-184" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">2</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-185"><a href="#cb1-185" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xbb35783b00000000000000000000000000000000000000000000000000000000'</span> <span class="co">--move(vat)</span></span>
<span id="cb1-186"><a href="#cb1-186" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">2</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-187"><a href="#cb1-187" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x7cdd3fde00000000000000000000000000000000000000000000000000000000'</span> <span class="co">--slip(vat)</span></span>
<span id="cb1-188"><a href="#cb1-188" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">2</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-189"><a href="#cb1-189" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x7bab3f4000000000000000000000000000000000000000000000000000000000'</span> <span class="co">--grab (w; user recieving debt)</span></span>
<span id="cb1-190"><a href="#cb1-190" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(<span class="kw">data</span>, <span class="dv">355</span>, <span class="dv">40</span>)) <span class="co">--retrieve address from data (not logged)</span></span>
<span id="cb1-191"><a href="#cb1-191" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x85258d09e1e4ef299ff3fc11e74af99563f022d21f3f940db982229dc2a3358c'</span> <span class="co">--bark (auction id)</span></span>
<span id="cb1-192"><a href="#cb1-192" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> SAFE_CAST(SAFE_CAST(topics[OFFSET(<span class="dv">3</span>)] <span class="kw">AS</span> INT64) <span class="kw">AS</span> STRING)</span>
<span id="cb1-193"><a href="#cb1-193" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x7c5bfdc0a5e8192f6cd4972f382cec69116862fb62e6abff8003874c58e064b8'</span> <span class="co">--kick (kpr of dai incentive)</span></span>
<span id="cb1-194"><a href="#cb1-194" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">3</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-195"><a href="#cb1-195" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x05e309fd6ce72f2ab888a20056bb4210df08daed86f21f95053deb19964d86b1'</span> <span class="co">--take (auction id)</span></span>
<span id="cb1-196"><a href="#cb1-196" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> SAFE_CAST(SAFE_CAST(topics[OFFSET(<span class="dv">1</span>)] <span class="kw">AS</span> INT64) <span class="kw">AS</span> STRING)</span>
<span id="cb1-197"><a href="#cb1-197" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x0d7d75e01ab95780d3cd1c8ec0dd6c2ce19e3a20427eec8bf53283b6fb8e95f0'</span> <span class="co">--flashloan (token)</span></span>
<span id="cb1-198"><a href="#cb1-198" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(<span class="kw">data</span>, <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-199"><a href="#cb1-199" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x0f6798a560793a54c3bcfe86a93cde1e73087d944c0ea20544137d4121396885'</span> <span class="co">--mint (DSTOKEN)</span></span>
<span id="cb1-200"><a href="#cb1-200" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">1</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-201"><a href="#cb1-201" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x4f0892983790f53eea39a7a496f6cb40e8811b313871337b6a761efc6c67bb1f'</span> <span class="co">--etch</span></span>
<span id="cb1-202"><a href="#cb1-202" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> topics[OFFSET(<span class="dv">1</span>)]</span>
<span id="cb1-203"><a href="#cb1-203" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xa69beaba00000000000000000000000000000000000000000000000000000000'</span> <span class="co">--vote (slate)</span></span>
<span id="cb1-204"><a href="#cb1-204" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> topics[OFFSET(<span class="dv">2</span>)]</span>
<span id="cb1-205"><a href="#cb1-205" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xd6be0bc178658a382ff4f91c8c68b542aa6b71685b8fe427966b87745c3ea7a2'</span> <span class="co">--open (cdp id)</span></span>
<span id="cb1-206"><a href="#cb1-206" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> topics[OFFSET(<span class="dv">3</span>)]</span>
<span id="cb1-207"><a href="#cb1-207" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xfcafcc6800000000000000000000000000000000000000000000000000000000'</span> <span class="co">--give (dst address)</span></span>
<span id="cb1-208"><a href="#cb1-208" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">1</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-209"><a href="#cb1-209" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x45e6bdcd00000000000000000000000000000000000000000000000000000000'</span> <span class="co">--frob (affected cdp)</span></span>
<span id="cb1-210"><a href="#cb1-210" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> topics[OFFSET(<span class="dv">2</span>)]</span>
<span id="cb1-211"><a href="#cb1-211" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x9bb8f83800000000000000000000000000000000000000000000000000000000'</span> <span class="co">--flux (dst)</span></span>
<span id="cb1-212"><a href="#cb1-212" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">3</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-213"><a href="#cb1-213" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0xf9f30db600000000000000000000000000000000000000000000000000000000'</span> <span class="co">--move (dst)</span></span>
<span id="cb1-214"><a href="#cb1-214" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">3</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-215"><a href="#cb1-215" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="op">=</span> <span class="st">'0x1b0dbf7200000000000000000000000000000000000000000000000000000000'</span> <span class="co">--quit (dst)</span></span>
<span id="cb1-216"><a href="#cb1-216" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="fu">CONCAT</span>(<span class="st">'0x'</span>, <span class="fu">SUBSTR</span>(topics[OFFSET(<span class="dv">3</span>)], <span class="dv">27</span>, <span class="dv">40</span>)) <span class="co">--remove zero padding</span></span>
<span id="cb1-217"><a href="#cb1-217" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">END</span> <span class="kw">AS</span> reciever,</span>
<span id="cb1-218"><a href="#cb1-218" aria-hidden="true" tabindex="-1"></a>     <span class="cf">CASE</span> <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="kw">IN</span> (<span class="st">'0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef'</span>,</span>
<span id="cb1-219"><a href="#cb1-219" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">'0x7f8661a100000000000000000000000000000000000000000000000000000000'</span>,</span>
<span id="cb1-220"><a href="#cb1-220" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">'0x049878f300000000000000000000000000000000000000000000000000000000'</span>,</span>
<span id="cb1-221"><a href="#cb1-221" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">'0x7cdd3fde00000000000000000000000000000000000000000000000000000000'</span>,</span>
<span id="cb1-222"><a href="#cb1-222" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">'0x7bab3f4000000000000000000000000000000000000000000000000000000000'</span>,</span>
<span id="cb1-223"><a href="#cb1-223" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">'0x85258d09e1e4ef299ff3fc11e74af99563f022d21f3f940db982229dc2a3358c'</span>,</span>
<span id="cb1-224"><a href="#cb1-224" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">'0xcc16f5dbb4873280815c1ee09dbd06736cffcc184412cf7a71a0fdb75d397ca5'</span>,</span>
<span id="cb1-225"><a href="#cb1-225" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">'0x0f6798a560793a54c3bcfe86a93cde1e73087d944c0ea20544137d4121396885'</span>,</span>
<span id="cb1-226"><a href="#cb1-226" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">'0x45e6bdcd00000000000000000000000000000000000000000000000000000000'</span>,</span>
<span id="cb1-227"><a href="#cb1-227" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">'0x9bb8f83800000000000000000000000000000000000000000000000000000000'</span></span>
<span id="cb1-228"><a href="#cb1-228" aria-hidden="true" tabindex="-1"></a>                                   )</span>
<span id="cb1-229"><a href="#cb1-229" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="st">'wad'</span></span>
<span id="cb1-230"><a href="#cb1-230" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="kw">IN</span> (<span class="st">'0x05e309fd6ce72f2ab888a20056bb4210df08daed86f21f95053deb19964d86b1'</span>,</span>
<span id="cb1-231"><a href="#cb1-231" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">'0x0d7d75e01ab95780d3cd1c8ec0dd6c2ce19e3a20427eec8bf53283b6fb8e95f0'</span></span>
<span id="cb1-232"><a href="#cb1-232" aria-hidden="true" tabindex="-1"></a>                                   )</span>
<span id="cb1-233"><a href="#cb1-233" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="st">'ray'</span></span>
<span id="cb1-234"><a href="#cb1-234" aria-hidden="true" tabindex="-1"></a>          <span class="cf">WHEN</span> topics[OFFSET(<span class="dv">0</span>)] <span class="kw">IN</span> (<span class="st">'0xbb35783b00000000000000000000000000000000000000000000000000000000'</span>,</span>
<span id="cb1-235"><a href="#cb1-235" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">'0xf37ac61c00000000000000000000000000000000000000000000000000000000'</span>,</span>
<span id="cb1-236"><a href="#cb1-236" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">'0x7c5bfdc0a5e8192f6cd4972f382cec69116862fb62e6abff8003874c58e064b8'</span>,</span>
<span id="cb1-237"><a href="#cb1-237" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">'0xf9f30db600000000000000000000000000000000000000000000000000000000'</span></span>
<span id="cb1-238"><a href="#cb1-238" aria-hidden="true" tabindex="-1"></a>                                   )</span>
<span id="cb1-239"><a href="#cb1-239" aria-hidden="true" tabindex="-1"></a>               <span class="cf">THEN</span> <span class="st">'rad'</span></span>
<span id="cb1-240"><a href="#cb1-240" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">END</span> <span class="kw">AS</span> percision, <span class="co">--see value section</span></span>
<span id="cb1-241"><a href="#cb1-241" aria-hidden="true" tabindex="-1"></a>     topics,</span>
<span id="cb1-242"><a href="#cb1-242" aria-hidden="true" tabindex="-1"></a>     <span class="kw">data</span></span>
<span id="cb1-243"><a href="#cb1-243" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> bigquery<span class="op">-</span><span class="kw">public</span><span class="op">-</span><span class="kw">data</span>.crypto_ethereum.logs <span class="kw">AS</span> logs</span>
<span id="cb1-244"><a href="#cb1-244" aria-hidden="true" tabindex="-1"></a><span class="kw">RIGHT</span> <span class="kw">JOIN</span> bigquery<span class="op">-</span><span class="kw">public</span><span class="op">-</span><span class="kw">data</span>.crypto_ethereum.transactions <span class="kw">AS</span> transactions</span>
<span id="cb1-245"><a href="#cb1-245" aria-hidden="true" tabindex="-1"></a>     <span class="kw">ON</span> logs.transaction_hash <span class="op">=</span> transactions.<span class="kw">hash</span></span>
<span id="cb1-246"><a href="#cb1-246" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> logs.block_timestamp <span class="kw">BETWEEN</span> <span class="st">'2021-05-30'</span> <span class="kw">and</span> <span class="st">'2022-05-30'</span></span>
<span id="cb1-247"><a href="#cb1-247" aria-hidden="true" tabindex="-1"></a>     <span class="kw">AND</span> address <span class="kw">IN</span> (</span>
<span id="cb1-248"><a href="#cb1-248" aria-hidden="true" tabindex="-1"></a>     <span class="st">'0x6b175474e89094c44da98b954eedeac495271d0f'</span>, <span class="co">-- DAI address (ERC20 form)</span></span>
<span id="cb1-249"><a href="#cb1-249" aria-hidden="true" tabindex="-1"></a>     <span class="st">'0x9759A6Ac90977b93B58547b4A71c78317f391A28'</span>, <span class="co">-- DAIJOIN address (mint/burn)</span></span>
<span id="cb1-250"><a href="#cb1-250" aria-hidden="true" tabindex="-1"></a>     <span class="st">'0x2F0b23f53734252Bda2277357e97e1517d6B042A'</span>, <span class="co">-- GEMJOIN address (collateral)</span></span>
<span id="cb1-251"><a href="#cb1-251" aria-hidden="true" tabindex="-1"></a>     <span class="st">'0x197E90f9FAD81970bA7976f33CbD77088E5D7cf7'</span>, <span class="co">-- POT address (savings contract)</span></span>
<span id="cb1-252"><a href="#cb1-252" aria-hidden="true" tabindex="-1"></a>     <span class="st">'0x19c0976f590D67707E62397C87829d896Dc0f1F1'</span>, <span class="co">-- JUG address (stability fees)</span></span>
<span id="cb1-253"><a href="#cb1-253" aria-hidden="true" tabindex="-1"></a>     <span class="st">'0xA950524441892A31ebddF91d3cEEFa04Bf454466'</span>, <span class="co">-- VOW address (balance sheet)</span></span>
<span id="cb1-254"><a href="#cb1-254" aria-hidden="true" tabindex="-1"></a>     <span class="st">'0xC4269cC7acDEdC3794b221aA4D9205F564e27f0d'</span>, <span class="co">-- FLAPPER address (surplus)</span></span>
<span id="cb1-255"><a href="#cb1-255" aria-hidden="true" tabindex="-1"></a>     <span class="st">'0xA41B6EF151E06da0e34B009B86E828308986736D'</span>, <span class="co">-- FLOPPER address (deficit - never been called thus far)</span></span>
<span id="cb1-256"><a href="#cb1-256" aria-hidden="true" tabindex="-1"></a>     <span class="st">'0x35D1b3F3D7966A1DFe207aa4514C12a259A0492B'</span>, <span class="co">-- VAT address (vaults)</span></span>
<span id="cb1-257"><a href="#cb1-257" aria-hidden="true" tabindex="-1"></a>     <span class="st">'0x135954d155898D42C90D2a57824C690e0c7BEf1B'</span>, <span class="co">-- DOG address (liquidations)</span></span>
<span id="cb1-258"><a href="#cb1-258" aria-hidden="true" tabindex="-1"></a>     <span class="st">'0xc67963a226eddd77B91aD8c421630A1b0AdFF270'</span>, <span class="co">-- CLIPPER address (liquidations)</span></span>
<span id="cb1-259"><a href="#cb1-259" aria-hidden="true" tabindex="-1"></a>     <span class="st">'0x1EB4CF3A948E7D72A198fe073cCb8C7a948cD853'</span>, <span class="co">-- FLASH address (flash loans)</span></span>
<span id="cb1-260"><a href="#cb1-260" aria-hidden="true" tabindex="-1"></a>     <span class="st">'0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2'</span>, <span class="co">-- MKR address (governance ERC20)</span></span>
<span id="cb1-261"><a href="#cb1-261" aria-hidden="true" tabindex="-1"></a>     <span class="st">'0x0a3f6849f78076aefaDf113F5BED87720274dDC0'</span>, <span class="co">-- DSCHIEF address (governance voting system)</span></span>
<span id="cb1-262"><a href="#cb1-262" aria-hidden="true" tabindex="-1"></a>     <span class="st">'0xA618E54de493ec29432EbD2CA7f14eFbF6Ac17F7'</span>, <span class="co">-- DSTOKEN address (governance IOU)</span></span>
<span id="cb1-263"><a href="#cb1-263" aria-hidden="true" tabindex="-1"></a>     <span class="st">'0x82ecD135Dce65Fbc6DbdD0e4237E0AF93FFD5038'</span>, <span class="co">-- PROXY address (for proxy actions)</span></span>
<span id="cb1-264"><a href="#cb1-264" aria-hidden="true" tabindex="-1"></a>     <span class="st">'0x5ef30b9986345249bc32d8928B7ee64DE9435E39'</span>  <span class="co">-- CDPMANAGER address (for managing vaults)</span></span>
<span id="cb1-265"><a href="#cb1-265" aria-hidden="true" tabindex="-1"></a>     )</span>
<span id="cb1-266"><a href="#cb1-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-267"><a href="#cb1-267" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<p>MakerDAO (2021). MakerDAO Technical Docs. URL https://docs.makerdao.com/</p>
<p>Google (2021). BigQuery. URL https://cloud.google.com/bigquery</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>